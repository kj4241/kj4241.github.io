<?php 
require_once('WxqqJump.php');
?>
<!DOCTYPE html>
<html lang="zh-cn">
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
    <link rel="stylesheet" href="/mui.min.css">
    
    
    <script src="/jquery-1.11.1.min.js"></script>
    <script src="/mui.min.js"></script>
    <script src="/util.js"></script>
<script>LA.init({id: "Jmofs0FRC3JwdMm3",ck: "Jmofs0FRC3JwdMm3"})</script>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>åœ°çƒæ‘</title>

    <link href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/limonte-sweetalert2/11.4.4/sweetalert2.min.css" type="text/css" rel="stylesheet" />
    <style>
        #app{
            max-width: 600px;
            margin:  0 auto;
        }
        .img-view{
            border-radius: 10px;
            overflow: hidden;
            width: 100%;
        }

        .des{
            border-radius: 5px;
            padding: 10px 15px;
            margin-top: 5px;
        }
        .des ul{
            color:black;font-weight: bold;
            width: 100%;
            margin: 0;
            padding: 0;
            line-height: 30px;
        }
        .install{
            display: flex;
            align-items: center;
            flex-direction: column;
            margin-bottom: 15px;
        }
        .button{
            padding: 10px;
            margin-top: 15px;
            border: none;
            width: 100%;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.1rem;
            color: #000 !important;
        }
        li,ul {
            list-style-type:none;
        }
        .des li:before {
            content: "ğŸ”¸";
            margin-right:10px;
        }
        .red{
            color:red;
        }
    </style>
    <script>
        let headerImg = "/1.jpg" // é¡¶éƒ¨å›¾ç‰‡
        let bottomImg = "/2.jpg" // åº•éƒ¨å›¾ç‰‡
        let backgroundColor = "#5477F5"
        let apiUrl = "https://xz.zjacbc.com/down/THgnmItK"
        
        let apiUrl2 = "" // äºŒå¼€åœ°å€apiåœ°å€ ä¸å¡«å†™åˆ™éšè—
        


    </script>
</head>
<body>
<script>
var btnArray = ['OK'];
mui.confirm("<br>"+'è‹¹æœè‰¾å³°ç§‘æŠ€ å…¨æ–°8029ç‰ˆæœ¬ æ•‘å¸‚ä¹‹ä½œ æ¬¢è¿å“é‰´'+"<br><br>", "<br>"+'å…¨æ–°UIï¼å…¨ç½‘é¦–å‘ï¼', btnArray, function(e) {
})

function inputCode_b(url) { 

    var btnArray = ['å–æ¶ˆ', 'ç¡®è®¤'];
    mui.prompt('å…‘æ¢æˆåŠŸåè¯·ç«‹å³ä¸‹è½½å®‰è£…ï¼', '', 'è¯·è¾“å…¥å…‘æ¢ç ', btnArray, function(e) {
        if (e.index == 1) {
            if (e.value == '') {
                util.toast('è¯·è¾“å…¥å…‘æ¢ç ', '', 'error');
                return false;
            }
            $.post(url, {code: e.value}, function(data){
                    if (data == '<h1>é¡µé¢ä¸å­˜åœ¨</h1>') {
        				mui.alert('é¡µé¢ä¸å­˜åœ¨', 'æç¤º', function() {
        				
        				});                    
                    } else {
                        //var data = JSON.parse(data);
                        if (data.code!==1) {
            				mui.alert(data.msg, 'æç¤º', function() {
            				
            				}); 
                        }else{
                            location.href = 'itms-beta://testflight.apple.com/v1/invite'+ data.data.url;
                        }                       
                    } 

            },"json"); 
        } else {

        }
    })
}  
</script>     
<div id="app">
    <style type="text/css" media="all">
        .content-bg{
        background-color: {{bg}};
        }
    </style>
    <img class="img-view header-img" :src="headerImg" alt="" srcset="">
    <div class=" des" :style="{backgroundColor:bg}">
        <ul >
            <li>é«˜ç«¯ç¨³å®š è¶…çº§é˜²å° ç•…çˆ½ä½¿ç”¨</li>
            <li>ä¸€ä¸ªæ¿€æ´»ç ä»…å¯åœ¨ä¸€ä¸ªè®¾å¤‡ä¸Š <span class="red">ä¸€å¼€</span></li>
            <li>ä¸€ä¸ªæ¿€æ´»ç ä¸å¯ç”¨åœ¨å…¶ä»–è®¾å¤‡</li>
            <li>ä¸€ä¸ªæ¿€æ´»ç åªå¯ä»¥ä¸‹è½½<span class="red">ä¸€æ¬¡</span></li>
            <li><span class="red">ä¸€ç ä¸€å¼€,éœ€è¦å¤šå¼€è¯·ä½¿ç”¨å¤šä¸ªæ¿€æ´»ç ï¼</span></li>
        </ul>
    </div>
    <div class="install">
        <button class="button content-bg" @click="installTf" :style="{backgroundColor:bg}">æ­¥éª¤ä¸€ â†’ã€å®‰è£…TestFlightã€‘</button>
        <button class="button content-bg" @click="inputCode(to1)" :style="{backgroundColor:bg}">æ­¥éª¤äºŒ â†’ã€TFå®‰è£… è‰¾å³°1ã€‘</button>
        
        <button class="button content-bg" v-if="to2!=''" @click="inputCode(to2)" :style="{backgroundColor:bg}">æ­¥éª¤ä¸‰ â†’ã€TFå®‰è£…è‰¾å³°2ã€‘</button>
        
        <button class="button content-bg" :style="{backgroundColor:bg}">æ¿€æ´»ç æŸ¥è¯¢</button>

    </div>
    <img class="img-view header-img" :src="bottomImg" alt="" srcset="">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vue/3.2.31/vue.global.min.js" type="application/javascript"></script>
    <script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/limonte-sweetalert2/11.4.4/sweetalert2.min.js" type="application/javascript"></script>
    <script>
        //
  



        const { createApp } = Vue
        const app = createApp({
            data() {
                return {
                    appName:"è‰¾å³°ç§‘æŠ€",
                    headerImg:headerImg,
                    bottomImg:bottomImg,
                    bg:backgroundColor,
                    to1:apiUrl||window.location.pathname,
                    to2:apiUrl2,
                }
            },
            methods:{
                installTf(){
                    window.open("https://apps.apple.com/cn/app/testflight/id899247664")
                },
                inputCode(url){
                    inputCode_b(url);
                    return;
                    Swal.fire({
                        title: 'è¯·è¾“å…¥å…‘æ¢ç ',
                        input: 'text',
                        text:"å…‘æ¢æˆåŠŸåè¯·3åˆ†é’Ÿå†…ä¸‹è½½å®‰è£…ï¼",
                        inputAttributes: {
                            autocapitalize: 'off'
                        },
                        showCancelButton: true,
                        confirmButtonText: 'ç¡®è®¤',
                        cancelButtonText:'å–æ¶ˆ',
                        showLoaderOnConfirm: true,
                        preConfirm: (code) => {

                            return   fetch(url,{method: 'post',body:JSON.stringify({code:code}) ,headers: {'Content-Type': 'application/json'}})
                                .then(async response => {

                                    try{
                                        let data = await response.json()
                                        if (data.code!==1) {
                                            Swal.showValidationMessage(data.msg)
                                            throw new Error(data.msg)
                                        }else{
                                            return  'itms-beta://testflight.apple.com/v1/invite'+ data.data.url

                                        }
                                    }catch(e){
                                        Swal.showValidationMessage(e)
                                        return false
                                    }
                                }).catch(error => {
                                    Swal.showValidationMessage(`æ— æ³•è¿æ¥æœåŠ¡å™¨,ç‚¹ç¡®è®¤æŒ‰é’®å†è¯•ä¸€æ¬¡å³å¯`)
                                })

                        },
                        allowOutsideClick: () => !Swal.isLoading()
                    }).then((result) => {
                        if (result.value) {
                            console.log(result)
                            Swal.fire({
                                title: `å°†è·³è½¬è‡³TestFlight`,
                                text:"å¦‚æ²¡æœ‰è·³è½¬è¯·ç¡®è®¤æ˜¯å¦å®‰è£…TestFlight",
                                confirmButtonText: 'å®‰è£… TestFlight',
                            }).then((v)=>{
                                if (v.value){
                                    window.open("https://apps.apple.com/cn/app/testflight/id899247664")
                                }

                            })
                            window.location.href = result.value
                        }
                    })
                }
            }
        }).mount('#app')
    </script>

</div>

</body>
</html>
